db.createCollection('orders', {validator: {$jsonSchema: {bsonType: 'object',title: 'orders',required: ['order_id','customer','datetime','delivery','product','total_price','restaurant'],properties:{order_id:{bsonType: 'objectId'},customer:{bsonType: 'object',title: 'object',required: ['customer_id','fname','lname','address','postcode','town','province','tel'],properties:{customer_id:{bsonType: 'objectId'},fname:{bsonType: 'string'},lname:{bsonType: 'string'},address:{bsonType: 'string'},postcode:{bsonType: 'string'},town:{bsonType: 'string'},province:{bsonType: 'string'},tel:{bsonType: 'string'}}},datetime:{bsonType: 'timestamp'},delivery:{bsonType: 'object',title: 'object',required: ['type','datetime'],properties:{type:{enum: ('delivery', 'takeaway')},datetime:{bsonType: 'timestamp'},deliverer:{bsonType: 'objectId'}}},product:{bsonType: 'object',title: 'object',required: ['product_id','name','type','quantity','description','price','image'],properties:{product_id:{bsonType: 'objectId'},name:{bsonType: 'string'},type:{enum: ('pizza')},quantity:{bsonType: 'int'},description:{bsonType: 'string'},price:{bsonType: 'decimal'},image:{bsonType: 'string'}}},total_price:{bsonType: 'decimal'},additional_info:{bsonType: 'string'},restaurant:{bsonType: 'object',title: 'object',required: ['restaurant_id','name','address','postcode','province','town','employee'],properties:{restaurant_id:{bsonType: 'objectId'},name:{bsonType: 'string'},address:{bsonType: 'string'},postcode:{bsonType: 'string'},province:{bsonType: 'string'},town:{bsonType: 'string'},employee:{bsonType: 'object',title: 'object',required: ['employee_id','fname','lname','NIF','tel','position'],properties:{employee_id:{bsonType: 'objectId'},fname:{bsonType: 'string'},lname:{bsonType: 'string'},NIF:{bsonType: 'string'},tel:{bsonType: 'string'},position:{enum: ('cook', 'delivery')}}}}}}}},autoIndexId: true});