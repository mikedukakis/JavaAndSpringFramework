db.createCollection('orders', {validator: {$jsonSchema: {bsonType: 'object',title: 'orders',required: ['order_id','customer','datetime','product','total_price','restaurant'],properties:{order_id:{bsonType: 'objectId'},customer:{bsonType: 'object',title: 'object',required: ['customer_id','fname','lname','delivery_type'],properties:{customer_id:{bsonType: 'objectId'},fname:{bsonType: 'string'},lname:{bsonType: 'string'},delivery_type:{bsonType: 'object',title: 'object',properties:{delivery:{bsonType: 'object',title: 'object',required: ['street','number','postcode','town','province','tel'],properties:{street:{bsonType: 'string'},number:{bsonType: 'int'},floor:{bsonType: 'string'},door:{bsonType: 'string'},postcode:{bsonType: 'string'},town:{bsonType: 'string'},province:{bsonType: 'string'},tel:{bsonType: 'string'}}},takeaway_ref:{bsonType: 'string'}}}}},datetime:{bsonType: 'timestamp'},product:{bsonType: 'object',title: 'object',required: ['product_id','description','name','type','quantity','price','image'],properties:{product_id:{bsonType: 'objectId'},description:{bsonType: 'string'},name:{bsonType: 'string'},type:{enum: ('pizza')},quantity:{bsonType: 'int'},price:{bsonType: 'decimal'},image:{bsonType: 'string'}}},total_price:{bsonType: 'decimal'},additional_info:{bsonType: 'string'},restaurant:{bsonType: 'object',title: 'object',required: ['restaurant_id','name','address','postcode','province','town','employee'],properties:{restaurant_id:{bsonType: 'objectId'},name:{bsonType: 'string'},address:{bsonType: 'string'},postcode:{bsonType: 'string'},province:{bsonType: 'string'},town:{bsonType: 'string'},employee:{bsonType: 'object',title: 'object',required: ['employee_id','fname','lname','NIF','tel','position'],properties:{employee_id:{bsonType: 'objectId'},fname:{bsonType: 'string'},lname:{bsonType: 'string'},NIF:{bsonType: 'string'},tel:{bsonType: 'string'},position:{bsonType: 'object',title: 'object',properties:{cook:{bsonType: 'string'},driver:{bsonType: 'string'}}}}}}}}}},autoIndexId: true});