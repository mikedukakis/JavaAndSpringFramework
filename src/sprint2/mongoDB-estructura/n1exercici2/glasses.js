db.createCollection('glasses', {validator: {$jsonSchema: {bsonType: 'object',title: 'glasses',required: ['glasses_id','brand','model','prescription','frame','frame_colour','glass_colour','price','sale','supplier'],properties:{glasses_id:{bsonType: 'objectId'},brand:{bsonType: 'string'},model:{bsonType: 'string'},prescription:{bsonType: 'object',title: 'object',required: ['left_eye','right_eye'],properties:{left_eye:{bsonType: 'string'},right_eye:{bsonType: 'string'}}},frame:{enum: ('rimless', 'rimmed', 'wire-frame')},frame_colour:{bsonType: 'string'},glass_colour:{bsonType: 'object',title: 'object',required: ['left_eye','right_eye'],properties:{left_eye:{bsonType: 'string'},right_eye:{bsonType: 'string'}}},price:{bsonType: 'decimal'},sale:{bsonType: 'object',title: 'object',required: ['customer','referrer','employee','datetime'],properties:{customer:{bsonType: 'object',title: 'object',required: ['name','address','tel','email','reg_date'],properties:{name:{bsonType: 'string'},address:{bsonType: 'object',title: 'object',required: ['street','number','town','postcode','country'],properties:{street:{bsonType: 'string'},number:{bsonType: 'int'},floor:{bsonType: 'string'},door:{bsonType: 'string'},town:{bsonType: 'string'},postcode:{bsonType: 'string'},country:{bsonType: 'string'}}},tel:{bsonType: 'string'},email:{bsonType: 'string'},reg_date:{bsonType: 'date'}}},referrer:{bsonType: 'object',title: 'object',required: ['name'],properties:{name:{bsonType: 'string'}}},employee:{bsonType: 'object',title: 'object',required: ['name','position'],properties:{name:{bsonType: 'string'},position:{bsonType: 'string'}}},datetime:{bsonType: 'timestamp'}}},supplier:{bsonType: 'object',title: 'object',required: ['name','address','tel','NIF'],properties:{name:{bsonType: 'string'},address:{bsonType: 'object',title: 'object',required: ['street','number','town','postcode','country'],properties:{street:{bsonType: 'string'},number:{bsonType: 'int'},floor:{bsonType: 'string'},door:{bsonType: 'string'},town:{bsonType: 'string'},postcode:{bsonType: 'string'},country:{bsonType: 'string'}}},tel:{bsonType: 'string'},fax:{bsonType: 'string'},NIF:{bsonType: 'string'}}}}}}});